# 중복된 값을 가져서는 안되는 Unique 컬럼의 업데이트

## Unique 컬럼
* 어떤 값들을 unique로 설정할까?
* 이는 중복된 값을 가져서는 안되는, 무결성이 깨져서는 안되는 값들이다.
* 해당 프로젝트에서는 taxi 테이블의 전화번호와 자동차 번호가 있다.
* 이러한 값들은 실세계에서 변경이 거의 일어나지 않고, 개개인을 식별하는데에 사용되며
* 중복이 존재하지 않는다.(=**중복이 발생해선 안된다.**)
* 따라서 이러한 값들은 unique로 설정해 데이터의 일관성과 정확성을 유지할 수 있도록 해야한다.

## 업데이트
* 이런 값들은 거의 변경이 일어나지 않는 값들이지만, 현실적으로 생각해볼때 충분히 변경의 여지가 있다.
* 특히나 전화번호를 바꾸는 일은 실세계에서 자주는 아니여도 종종 발생한다.
* 자동차 번호도 마찬가지이다. 해당 프로젝트에서는 택시 번호라서 영업용 번호이기 때문에 쉽게 바뀌진 않지만, 충분히 바뀔 여지가 있다.

## Unique는 update가 안되는데?
* unique 컬럼은 한번 생성되고난 후 변경이 불가능하다.
* 업데이트를 해야하는 상황이 발생했을때 어떻게 대처해야하는가?

## 삭제하고 다시 만들자
* 이 방법은 참조하는 데이터가 없는 경우야 안전하다.
* 다른 테이블이 해당 테이블을 참조하고 있는 경우에는
* 임시 테이블을 만들어 저장하는 방법 등으로 해결해야한다.
* 잘 변경되지 않는, 무결성이 필요한 값에 변경이 필요한 경우
* 삭제하고 만들 수 있도록 사용자를 유도한다.
* 처음부터 다시 만들라고 하면 사용자들이 불만을 가질 수도 있다.
* 따라서 이를 일반적인 업데이트 방식과 유사하게 하면된다.

## 일반적인 업데이트와 유사하게 하라
* 변경 요청 api를 콜하면 서버는 변경될 값을 제외한, 변경되지 않을 값들을 프론트로 보낸다.
* 프론트는 해당 값을 가지고 있고, 변경될 값을 새로 바꾸어서 삽입한다.
* 후에 재 등록 api를 콜하여서 기존 값을 삭제하고, 새값을 insert하는 방식으로 처리한다.
* 이 방법의 장점은 사용자가 전혀 불편함을 느끼지 않고, 일반적인 업데이트를 수행하듯 진행할 수 있다는 것이다.